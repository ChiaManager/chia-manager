const chai = require('chai');
require('./index.js');

describe("Date.format", () => {
    process.env.TZ = 'UTC';
    const data = [
        ["2012-02-29 12:00:00", "Y", "2012"],
        ["2012-02-29 12:00:00", "m", "02"],
        ["2012-02-29 12:00:00", "d", "29"],
        ["2012-02-29 12:00:00", "H", "12"],
        ["2012-02-29 01:00:00", "H", "01"],
        ["2012-02-29 23:00:00", "H", "23"],
        ["2012-02-29 12:00:00", "i", "00"],
        ["2012-02-29 12:01:00", "i", "01"],
        ["2012-02-29 12:59:00", "i", "59"],
        ["2012-02-29 12:59:00", "D", "Wed"],
        ["2012-02-29 12:59:00", "l", "Wednesday"],
        ["2012-02-29 12:59:00", "N", "3"],
        ["2012-02-29 12:59:00", "j", "29"],
        ["2012-02-01 12:59:00", "S", "st"],
        ["2012-02-02 12:59:00", "S", "nd"],
        ["2012-02-03 12:59:00", "S", "rd"],
        ["2012-02-04 12:59:00", "S", "th"],
        ["2012-02-11 12:59:00", "S", "th"],
        ["2012-02-12 12:59:00", "S", "th"],
        ["2012-02-13 12:59:00", "S", "th"],
        ["2012-02-20 12:59:00", "S", "th"],
        ["2012-02-21 12:59:00", "S", "st"],
        ["2012-02-29 12:59:00", "w", "2"],
        ["2012-02-29 12:59:00", "z", "59"],
        ["2012-02-29 12:59:00", "L", "1"],
        ["2011-02-28 12:59:00", "L", "0"],
        ["2400-02-28 12:59:00", "L", "1"],
        ["2300-02-28 12:59:00", "L", "0"],
        ["2012-02-29 12:59:00", "W", "09"],
        ["2012-01-29 12:59:00", "F", "January"],
        ["2012-02-29 12:59:00", "F", "February"],
        ["2012-03-29 12:59:00", "F", "March"],
        ["2012-04-29 12:59:00", "F", "April"],
        ["2012-05-29 12:59:00", "F", "May"],
        ["2012-06-29 12:59:00", "F", "June"],
        ["2012-07-29 12:59:00", "F", "July"],
        ["2012-08-29 12:59:00", "F", "August"],
        ["2012-09-29 12:59:00", "F", "September"],
        ["2012-10-29 12:59:00", "F", "October"],
        ["2012-11-29 12:59:00", "F", "November"],
        ["2012-12-29 12:59:00", "F", "December"],
        ["2012-01-29 12:59:00", "M", "Jan"],
        ["2012-02-29 12:59:00", "M", "Feb"],
        ["2012-03-29 12:59:00", "M", "Mar"],
        ["2012-04-29 12:59:00", "M", "Apr"],
        ["2012-05-29 12:59:00", "M", "May"],
        ["2012-06-29 12:59:00", "M", "Jun"],
        ["2012-07-29 12:59:00", "M", "Jul"],
        ["2012-08-29 12:59:00", "M", "Aug"],
        ["2012-09-29 12:59:00", "M", "Sep"],
        ["2012-10-29 12:59:00", "M", "Oct"],
        ["2012-11-29 12:59:00", "M", "Nov"],
        ["2012-12-29 12:59:00", "M", "Dec"],
        ["2012-12-29 12:59:00", "n", "12"],
        ["2012-02-29 12:59:00", "t", "29"],
        ["2012-02-29 12:59:00", "y", "12"],
        ["2012-02-29 00:00:00", "a", "am"],
        ["2012-02-29 11:59:59", "a", "am"],
        ["2012-02-29 12:00:00", "a", "pm"],
        ["2012-02-29 23:59:59", "a", "pm"],
        ["2012-02-29 00:00:00", "A", "AM"],
        ["2012-02-29 11:59:59", "A", "AM"],
        ["2012-02-29 12:00:00", "A", "PM"],
        ["2012-02-29 23:59:59", "A", "PM"],
        ["2012-02-29 00:00:00", "g", "12"],
        ["2012-02-29 12:00:00", "g", "12"],
        ["2012-02-29 13:00:00", "g", "1"],
        ["2012-02-29 00:00:00", "G", "0"],
        ["2012-02-29 12:00:00", "G", "12"],
        ["2012-02-29 13:00:00", "G", "13"],
        ["2012-02-29 00:00:00", "h", "12"],
        ["2012-02-29 12:00:00", "h", "12"],
        ["2012-02-29 13:00:00", "h", "01"],
    ];
    data.map(entry => {
        const d = new Date(Date.parse(entry[0]));
        const format = entry[1];
        const expected = entry[2];
        it (`"${entry[0]}".format(${format}) should return ${expected}`, () => {
            chai.expect(d.format(format)).to.equal(expected);
        });
    });
});